/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   ----------------------------------------------------------------------------------------------   */
/*                                          小鸡叽叽科技出品		                                  		*/
/*                                         www.xiaojijiji.com		                                  		*/
/*   ----------------------------------------------------------------------------------------------   */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   -----------------------------------------------------------------------------------------------  */
/*	                     感谢您支持小鸡叽叽科技，请遵守保密协议，保护作者的劳动成果，                 */
/*                                  未经允许请不要将资料、代码传送他人或者网络	                      */
/*																		         仅供内部使用                                           */
/* ************************************************************************************************** */





#include "Reg_SP37.h"
#include "SP37_ROMLibrary.h"
#include <uart.h>
#include <stdio.h>
#include <ctype.h>
#include <absacc.h>		//绝对地址访问包含头文件



void MAIN(void)
{
	
	Uart_Init();

	while(1)
	{
		unsigned char i;
		unsigned short addr;
		
		// ID structure is defined in SP37_ROMLibrary.h
		idata ID_Struct ID_Result;
		
		WDRES = 1;
		
		//打印芯片唯一ID
		//通过读FLASH的方式获取
		addr = 0x5850;
		printf("Unique_Sensor_ID         : ");
		for(i=0;i<4;i++){
			printf("%02X",(int)CBYTE[addr]);
			addr++;
		}
		printf("\r\n");
		
		//打印芯片唯一ID
		//通过库函数Read_ID()来获取
		printf("Unique_Sensor_ID From Lib: ");
		Read_ID(&ID_Result);
		printf("%08lX\r\n",ID_Result.ID);
		
		
		//打印用户特征ID
		addr = 0x57E0;
		printf("User_ID: ");
		for(i=0;i<2;i++){
			printf("%02X",(int)CBYTE[addr]);
			addr++;
		}
		printf("\r\n");
		
		Wait100usMultiples(10000);		
	}

}




