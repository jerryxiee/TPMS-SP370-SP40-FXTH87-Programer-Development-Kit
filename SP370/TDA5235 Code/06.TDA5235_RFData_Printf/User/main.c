#include "sys.h"
#include "clock.h"
#include "delay.h"
#include "usart.h"

#include "led.h"

#include "oled.h"
#include "display.h"

#include "TDA5235.h"
#include "TDA5235_SFR.h"

/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   ----------------------------------------------------------------------------------------------   */
/*                                          小鸡叽叽科技出品                                          */
/*                                         www.xiaojijiji.com                                         */
/*   ----------------------------------------------------------------------------------------------   */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   -----------------------------------------------------------------------------------------------  */
/*	                     感谢您支持小鸡叽叽科技，请遵守保密协议，保护作者的劳动成果，                 */
/*                                  未经允许请不要将资料、代码传送他人或者网络	                      */
/*                                             仅供内部使用                                           */
/* ************************************************************************************************** */


int main(void)
{

	Clock_Init();
	NVIC_Configuration();		//中断配置
	delay_init();
	USART1_Init(115200);		//USART1初始化,波特率115200

	LED_Init();	

	OLED_Init(); 
 
	Display_Logo();  
	Display_Http();
	Display_Version();

	TDA5235_Init();
	TDA5235_SFR_Init();
	
	while(1)
	{
		u8 i;
		u8 FIFO_Conut=0;
		u8 FIFO[32];

		if(TDA5235_Read_Register(SFR_IS0)&0x08){		
			FIFO_Conut = TDA5235_Read_FIFO(FIFO);
                        printf("Receive Data From SP37: ");
			for(i=0;i<FIFO_Conut;i++){
				printf("%02X, ",FIFO[i]);
			}
			printf("\r\n");
		}
		
		delay_ms(50);	
	}


}


/*	头文件路径
.\CORE;..\FWLib\inc;.\INCLUDE
*/

