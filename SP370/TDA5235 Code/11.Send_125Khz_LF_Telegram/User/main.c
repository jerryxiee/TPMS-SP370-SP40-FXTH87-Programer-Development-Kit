/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   ----------------------------------------------------------------------------------------------   */
/*                                          小鸡叽叽科技出品                                          */
/*                                         www.xiaojijiji.com                                         */
/*   ----------------------------------------------------------------------------------------------   */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/* ************************************************************************************************** */
/*   ----------------------------------------------------------------------------------------------   */
/*                       感谢您支持小鸡叽叽科技，请遵守保密协议，保护作者的劳动成果                   */
/*                                  未经允许请不要将资料、代码传送他人或者网络                        */
/*                                           仅供内部使用                                             */
/* ************************************************************************************************** */


#include "sys.h"
#include "clock.h"
#include "delay.h"
#include "usart.h"
#include "led.h"
#include "tim.h"

#include "oled.h"
#include "display.h"

#include "TDA5235.h"
#include "TDA5235_SFR.h"

#include "SP37Data.h"

#include "lf.h"

/* ***************************************************************************** */
/* 此例程验证SP370的LF功能                                                       */
/* 上电后不断发射"符合SP370"的报文(10Hz)                                         */
/* Wakeup ID为0x1234                                                             */
/* 每一个报文发送8Byte数据0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77                */
/* ***************************************************************************** */

int main(void)
{

	Clock_Init();
	NVIC_Configuration();		//中断配置
	delay_init();
	LED_Init();
	USART1_Init(115200);		//USART1初始化,波特率115200	

	Tim3_Init(1000,64); 		//1ms的溢出中断 //系统灯闪烁
	TIM3_Cmd(ENABLE);

	LF_Init();


	OLED_Init(); 
 
	Display_Logo();  
	Display_Http();
	Display_Version();

	OLED_ShowBMP(0,2,1);	//左上角 Logo
	OLED_ShowBMP(110,2,0);	//右上角 Logo
	OLED_ShowBMP(0,6,1);	//左下角 Logo
	OLED_ShowBMP(110,6,0);	//右下角 Logo

	//OLED_ShowStr(VERSION_START_X,VERSION_START_PAGE," .Send 125Khz LF. ");
	OLED_ShowStr(6,4,"Send 125Khz LF TEST");
	OLED_ShowStr(6,5,"     ID:0x1234    ");
	
	while(1)
	{
		u16 ID = 0x1234;
		u8 data[] = {0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77};
		
		LF_SendATelegram(ID,data,sizeof(data)/sizeof(data[0]));
		delay_ms(100);
	}
}


/*	头文件路径
.\CORE;..\FWLib\inc;.\INCLUDE
*/

